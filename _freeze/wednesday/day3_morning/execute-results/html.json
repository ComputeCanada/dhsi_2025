{
  "hash": "90849d8a9c90633ee21b1f2fdcbd29d9",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Introduction to API Querying\njupyter: python3\n---\n\n\nIn today’s digital world, being able to access and work with online data is a valuable skill, even in the Humanities and Social Sciences. This session is all about getting comfortable with APIs (Application Programming Interfaces) and understanding why they’re useful for research. You’ll learn how APIs compare to other ways of getting data, like text mining and web scraping, and how to tell if a website has an API you can use. We’ll walk through how to make a request to an API, use parameters to get the exact data you want, and understand the responses you get back (usually in JSON format). By the end, you’ll have hands-on experience using APIs to gather and explore data for your own projects.\n\n\nLet's get started by importing the libraries that we will be using:\n\n::: {#36ec1d3a .cell execution_count=1}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet’s explore the requests and json libraries using the Help function:\n\n::: {#e751ad47 .cell execution_count=2}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n::: {#d186cde5 .cell execution_count=3}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet’s get started with some hands-on API querying!\n\nFor our first example, we’ll use an easy-to-understand API from [catfact.ninja](https://catfact.ninja), a site that serves up random cat facts, perfect for learning the basics in a fun way.\n\n**1. Create a variable for base URL**\n\nLet's do a simple request and see what we get:\n\n::: {#0a8bf8e0 .cell execution_count=4}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n**2. Create a variable for the cat facts response**\n\n::: {#2da18c6a .cell execution_count=5}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet's explore the ‘responses’ library:\n\n::: {#6eb3de0f .cell execution_count=6}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n::: {#b4816fb9 .cell execution_count=7}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n::: {#f1dcd700 .cell execution_count=8}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nThe output for the .text function is actually JSON (Javascript object notation). If we apply a JSON method we can export this as a dictionary, which will be much easier for us to work with:\n\n::: {#9de16f61 .cell execution_count=9}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n**3. Querying parameters**\n\n::: {#74d9abe7 .cell execution_count=10}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet's create a variable to save this parameter: \n\n::: {#19533c8e .cell execution_count=11}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n## Exercise 1:\n\nQuery the /breeds attribute and limit our results to 10.\n\n::: {#3941d451 .cell execution_count=12}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n::: {#78e64427 .cell execution_count=13}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet’s try another example of API querying—this time with a sci-fi twist!\n\nWe’ll be using [swapi.info](https://swapi.info/), an API built specifically for exploring data from the Star Wars universe. It’s a great way to practice working with structured data while having a bit of fun with characters, planets, and starships.\n\nLet’s create a variable for the people attributes URL and do a simple request to it:\n\n::: {#04fd03e2 .cell execution_count=14}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet’s query the People attribute ID 1 by creating a variable\n\n::: {#56c76d88 .cell execution_count=15}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nLet's declare a second variable, called api_url_response:\n\n::: {#0531ac61 .cell execution_count=16}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n**JSON Format**\n\nJSON data is formatted in *key-value* pairs. If you refer to the JSON data, you'll see that it's actually a list of keys and their corresponding values. For example, there's a \"birth_year\" key whose value is \"19BBY\" as well as an \"eye_color\" key whose value is \"blue.\"\n\n\nWe can refer to the JSON data by its key:\n\n::: {#6e7e73b0 .cell execution_count=17}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\nIn the statement above, we are setting a new variable called hair. The variable is composed of the value of the *hair_color* key, as specified in the data you see in the previous cell.\n\n\nWe also set a variable called name, which is composed of the value of the *name* key. Then we tell the program to print those values\n\n## Exercise 2\nWrite some code that uses the API to tell us Luke Skywalker's eye color.\n\n::: {#930e40e1 .cell execution_count=18}\n``` {.python .cell-code}\n#Your code goes here\n```\n:::\n\n\n## Exercise 3\n\nLet’s try a different attribute! Choose one from the documentation: [swapi.info](https://swapi.info/)\n\nTry choosing a specific endpoint associated with an attribute to create a full string.\n\n",
    "supporting": [
      "day3_morning_files"
    ],
    "filters": [],
    "includes": {}
  }
}